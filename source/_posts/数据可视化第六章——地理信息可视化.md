title: 数据可视化第六章——地理信息可视化
tags: []
categories:
  - 数据可视化
date: 2019-08-24 10:53:00
author:
---
我们身处在三维空间中，来自现实世界的数据常常包含位置信息。空间数据（spatial data）指定义在三维空间中、具有位置信息的数据。理解空间数据对认知自我和外部世界非常重要。虽然地理空间数据与普通的空间数据都描述了一个对象在空间中的位置，但是地理空间特指真实的人类生活的空间，信息的载体、对象映射到载体的方式都非常独特。地理空间数据历来是可视化研究和应用的重要对象。广泛使用的移动设备和传感器每时每刻都产生海量的地理空间数据，为相关的可视化技术带来了新的机遇与挑战。  <!--more--> 

人类很早就开始在地图制作中研究地理数据的绘制，并已经掌握了非常精湛的技艺。这方面的系统知识和理论形成了一门专门的学科：地图制图学。在计算机发明之后，如何用计算机存储、管理并展示地理数据，形成了一门学科：地理信息系统（GIS）。这门学科与计算机学科紧密交叉，更多详细资料可以参考 [Chang2007][Kraak196J] [Maceachren62] [Rasz1962] [Solum1999]。本章关注的地理空间数据的可视化与地理信息系统和地图制图学既有相通之处，但又不尽相同。地图制图学的目的是设计付诸印刷的静态地图，其中包含大量的手动设计过程。地理信息可视化利用计算机自动生成视图，且支持用户交互修改和操纵。因此，如何将制图学理论与自动的可视化方法相结合是重要的研究课题，与 GIS 系统相比，地理信息可视化相当于它的前端数据表现的部分，而地理信息的存储和管理并不是可视化关注的重点。  
本章首先介绍地图投影的方法，即如何将地理坐标转换到二维平面上，然后介绍不同类别的地理数据及其相应的可视化技术，最后简述地理信息可视化的未来挑战。
#### 6.1 地图投影
地理信息可视化的最基本步骤是地图投影，即将数据中的地理坐标转换到二维的屏幕坐标。地球是一个赤道略宽两极稍扁的不规则球体。将一个不可展平曲面上的位置映射到二维平面，等价于曲面参数化，其实质是在两个面之间建立一一映射的关系。每个地理坐标标识对象在地球上的位置，常用经度和纬度 $(\lambda,\phi)$ 表示。其中，经度 $\lambda$ 是离南北走向的本初子午线以东或者以西的度数，通常用 -180° 表示西经 180 度，180° 表示东经 180 度。纬度 $\phi$ 是指与地球球心的连线和地球赤道面所成的线面角，通常用 -90° 表示南纬 90 度，90° 表示北纬 90 度。通过地图投影将 $(\lambda,\phi)$ 变成二维屏幕上的坐标 $(x,y)$ 的过程中必然会产生曲面的误差和变形。通常按照变形的方式来分析，这个转换的过程具备如下三种特性。
+ 等角度：投影面上任何点上两个微分线段组成的角度投影前后保持不变。角度和形状保持正确的投影，也称正形投影。
+ 等面积：地图上任何图形面积经主比例尺放大以后与实地上相应图形面积大小保持不变。
+ 等距离：在标准经纬线上无长度变形，即投影后任何点到投影所选中原点的距离保持不变。

现有的地图投影算法非常多，关于投影算法的研究也很深入。但是，没有一种投影方法可同时满足以上三个特性。在实际应用中，应根据不同需求选择
 最符合目标的投影方法。下面简单介绍最有代表性的三种投影算法。

##### 6.1.1 墨卡托投影
墨卡托投影又称正轴等角圆柱投影，由荷兰地图学家墨卡托（G. Mercator）于  1569 年发明。该方法用一个与地轴方向一致的圆柱切割地球，并按等角度条件，将地球的经纬网投影到圆柱面上。将圆柱面展为平面后，获得墨卡托投影后的地图(见图 6.1)。下面是墨卡托投影中经纬度 $(\lambda,\phi)$ 转换成屏幕坐标 $(x,y)$ 的数学公式。

$$x=\lambda-\lambda_{0};y=ln(tan(\frac \pi4 + \frac \phi2))=\frac 12ln(\frac {1+sin \phi}{1-sin \phi})=sinh^{-1}(tan \phi)=ln(tan \phi + sec \phi)$$

在投影生成的二维视图中，经线是一组竖直的等距离平行直线，纬线是一组垂直于经线的平行直线。相邻纬线之间的距离由赤道向两极增大。在投影中每个点上任何方向的长度比均相等，即没有角度变形。但是面积变形明显。在基准纬线（赤道）上的对象保持原始的面积，随着离基准纬线越来越远而变大（见图 6.2）。





##### 6.1.2 亚尔勃斯投影
##### 6.1.3 方位角投影
#### 6.2 点数据的可视化
#### 6.3 线数据的可视化
#### 6.4 区域数据的可视化
##### 6.4.1 Choropleth地图
##### 6.4.2 Cartogram
##### 6.4.3 规则形状地图
##### 6.4.4 多元关系地图
#### 6.5 地理信息可视化的应用
##### 6.5.1 地球与生存环境
##### 6.5.2 城市与日常生活
##### 6.5.3 地理时空数据
##### 6.5.4 复杂地理数据的可视分析
#### 6.6 地理信息可视化的其他挑战
##### 6.6.1 地图标注
##### 6.6.2 地图综合
##### 6.6.3 在线地图